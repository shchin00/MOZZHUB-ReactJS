{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\nimport { extractEventHandlers } from '../utils/extractEventHandlers';\nimport { useRootElementName } from '../utils/useRootElementName';\n/**\n *\n * Demos:\n *\n * - [Button](https://mui.com/base-ui/react-button/#hook)\n *\n * API:\n *\n * - [useButton API](https://mui.com/base-ui/react-button/hooks-api/#use-button)\n */\n\nexport function useButton() {\n  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _parameters$disabled = parameters.disabled,\n      disabled = _parameters$disabled === void 0 ? false : _parameters$disabled,\n      focusableWhenDisabled = parameters.focusableWhenDisabled,\n      href = parameters.href,\n      externalRef = parameters.rootRef,\n      tabIndex = parameters.tabIndex,\n      to = parameters.to,\n      type = parameters.type,\n      rootElementNameProp = parameters.rootElementName;\n  var buttonRef = React.useRef();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      active = _React$useState2[0],\n      setActive = _React$useState2[1];\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisibleRef = _useIsFocusVisible.isFocusVisibleRef,\n      handleFocusVisible = _useIsFocusVisible.onFocus,\n      handleBlurVisible = _useIsFocusVisible.onBlur,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      focusVisible = _React$useState4[0],\n      setFocusVisible = _React$useState4[1];\n\n  if (disabled && !focusableWhenDisabled && focusVisible) {\n    setFocusVisible(false);\n  }\n\n  React.useEffect(function () {\n    isFocusVisibleRef.current = focusVisible;\n  }, [focusVisible, isFocusVisibleRef]);\n\n  var _useRootElementName = useRootElementName({\n    rootElementName: rootElementNameProp != null ? rootElementNameProp : href || to ? 'a' : undefined,\n    componentName: 'Button'\n  }),\n      _useRootElementName2 = _slicedToArray(_useRootElementName, 2),\n      rootElementName = _useRootElementName2[0],\n      updateRootElementName = _useRootElementName2[1];\n\n  var createHandleMouseLeave = function createHandleMouseLeave(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onMous;\n\n      if (focusVisible) {\n        event.preventDefault();\n      }\n\n      (_otherHandlers$onMous = otherHandlers.onMouseLeave) == null || _otherHandlers$onMous.call(otherHandlers, event);\n    };\n  };\n\n  var createHandleBlur = function createHandleBlur(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onBlur;\n\n      handleBlurVisible(event);\n\n      if (isFocusVisibleRef.current === false) {\n        setFocusVisible(false);\n      }\n\n      (_otherHandlers$onBlur = otherHandlers.onBlur) == null || _otherHandlers$onBlur.call(otherHandlers, event);\n    };\n  };\n\n  var createHandleFocus = function createHandleFocus(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onFocu2; // Fix for https://github.com/facebook/react/issues/7769\n\n\n      if (!buttonRef.current) {\n        buttonRef.current = event.currentTarget;\n      }\n\n      handleFocusVisible(event);\n\n      if (isFocusVisibleRef.current === true) {\n        var _otherHandlers$onFocu;\n\n        setFocusVisible(true);\n        (_otherHandlers$onFocu = otherHandlers.onFocusVisible) == null || _otherHandlers$onFocu.call(otherHandlers, event);\n      }\n\n      (_otherHandlers$onFocu2 = otherHandlers.onFocus) == null || _otherHandlers$onFocu2.call(otherHandlers, event);\n    };\n  };\n\n  var isNativeButton = function isNativeButton() {\n    var button = buttonRef.current;\n    return rootElementName === 'BUTTON' || rootElementName === 'INPUT' && ['button', 'submit', 'reset'].includes(button == null ? void 0 : button.type) || rootElementName === 'A' && (button == null ? void 0 : button.href);\n  };\n\n  var createHandleClick = function createHandleClick(otherHandlers) {\n    return function (event) {\n      if (!disabled) {\n        var _otherHandlers$onClic;\n\n        (_otherHandlers$onClic = otherHandlers.onClick) == null || _otherHandlers$onClic.call(otherHandlers, event);\n      }\n    };\n  };\n\n  var createHandleMouseDown = function createHandleMouseDown(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onMous2;\n\n      if (!disabled) {\n        setActive(true);\n        document.addEventListener('mouseup', function () {\n          setActive(false);\n        }, {\n          once: true\n        });\n      }\n\n      (_otherHandlers$onMous2 = otherHandlers.onMouseDown) == null || _otherHandlers$onMous2.call(otherHandlers, event);\n    };\n  };\n\n  var createHandleKeyDown = function createHandleKeyDown(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onKeyD;\n\n      (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null || _otherHandlers$onKeyD.call(otherHandlers, event);\n\n      if (event.defaultMuiPrevented) {\n        return;\n      }\n\n      if (event.target === event.currentTarget && !isNativeButton() && event.key === ' ') {\n        event.preventDefault();\n      }\n\n      if (event.target === event.currentTarget && event.key === ' ' && !disabled) {\n        setActive(true);\n      } // Keyboard accessibility for non interactive elements\n\n\n      if (event.target === event.currentTarget && !isNativeButton() && event.key === 'Enter' && !disabled) {\n        var _otherHandlers$onClic2;\n\n        (_otherHandlers$onClic2 = otherHandlers.onClick) == null || _otherHandlers$onClic2.call(otherHandlers, event);\n        event.preventDefault();\n      }\n    };\n  };\n\n  var createHandleKeyUp = function createHandleKeyUp(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onKeyU; // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n      // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n\n\n      if (event.target === event.currentTarget) {\n        setActive(false);\n      }\n\n      (_otherHandlers$onKeyU = otherHandlers.onKeyUp) == null || _otherHandlers$onKeyU.call(otherHandlers, event); // Keyboard accessibility for non interactive elements\n\n      if (event.target === event.currentTarget && !isNativeButton() && !disabled && event.key === ' ' && !event.defaultMuiPrevented) {\n        var _otherHandlers$onClic3;\n\n        (_otherHandlers$onClic3 = otherHandlers.onClick) == null || _otherHandlers$onClic3.call(otherHandlers, event);\n      }\n    };\n  };\n\n  var handleRef = useForkRef(updateRootElementName, externalRef, focusVisibleRef, buttonRef);\n  var buttonProps = {};\n\n  if (tabIndex !== undefined) {\n    buttonProps.tabIndex = tabIndex;\n  }\n\n  if (rootElementName === 'BUTTON') {\n    buttonProps.type = type != null ? type : 'button';\n\n    if (focusableWhenDisabled) {\n      buttonProps['aria-disabled'] = disabled;\n    } else {\n      buttonProps.disabled = disabled;\n    }\n  } else if (rootElementName === 'INPUT') {\n    if (type && ['button', 'submit', 'reset'].includes(type)) {\n      if (focusableWhenDisabled) {\n        buttonProps['aria-disabled'] = disabled;\n      } else {\n        buttonProps.disabled = disabled;\n      }\n    }\n  } else if (rootElementName !== '') {\n    if (!href && !to) {\n      buttonProps.role = 'button';\n      buttonProps.tabIndex = tabIndex != null ? tabIndex : 0;\n    }\n\n    if (disabled) {\n      buttonProps['aria-disabled'] = disabled;\n      buttonProps.tabIndex = focusableWhenDisabled ? tabIndex != null ? tabIndex : 0 : -1;\n    }\n  }\n\n  var getRootProps = function getRootProps() {\n    var externalProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var externalEventHandlers = _extends({}, extractEventHandlers(parameters), extractEventHandlers(externalProps));\n\n    var props = _extends({\n      type: type\n    }, externalEventHandlers, buttonProps, externalProps, {\n      onBlur: createHandleBlur(externalEventHandlers),\n      onClick: createHandleClick(externalEventHandlers),\n      onFocus: createHandleFocus(externalEventHandlers),\n      onKeyDown: createHandleKeyDown(externalEventHandlers),\n      onKeyUp: createHandleKeyUp(externalEventHandlers),\n      onMouseDown: createHandleMouseDown(externalEventHandlers),\n      onMouseLeave: createHandleMouseLeave(externalEventHandlers),\n      ref: handleRef\n    }); // onFocusVisible can be present on the props or parameters,\n    // but it's not a valid React event handler so it must not be forwarded to the inner component.\n    // If present, it will be handled by the focus handler.\n\n\n    delete props.onFocusVisible;\n    return props;\n  };\n\n  return {\n    getRootProps: getRootProps,\n    focusVisible: focusVisible,\n    setFocusVisible: setFocusVisible,\n    active: active,\n    rootRef: handleRef\n  };\n}","map":null,"metadata":{},"sourceType":"module"}