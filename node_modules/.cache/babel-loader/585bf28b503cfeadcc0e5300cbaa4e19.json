{"ast":null,"code":"import _classCallCheck from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\MOZZHUB-ReactJS\\\\src\\\\component\\\\CaseRecord.js\";\nimport React from 'react';\nimport MenuBar from './MenuBar';\nimport CaseFormReview from './reviewCom';\nimport CaseFormReview2 from './reviewCom2';\nimport CaseFormReview3 from './reviewCom3';\nimport MobilityFormReview from './MobilityFormReview';\nimport moment from 'moment';\nimport { push } from 'react-router-redux';\nimport config from '../config';\nimport { Button, Grid, Divider, Segment, Icon, Table, Pagination, Modal, Dimmer, Loader } from 'semantic-ui-react';\n\nvar CaseRecord =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CaseRecord, _React$Component);\n\n  function CaseRecord(props) {\n    var _this;\n\n    _classCallCheck(this, CaseRecord);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CaseRecord).call(this, props));\n\n    _this.handlePaginationChange = function (e, _ref) {\n      var activePage = _ref.activePage;\n\n      _this.setState({\n        activePage: activePage\n      });\n    };\n\n    _this.state = {\n      open: false,\n      pageSize: 10,\n      wait: false,\n      data: [],\n      data2: [],\n      id: '',\n      view: false,\n      cData: {},\n      pData: {},\n      nData: {},\n      pcData: {},\n      rData: {},\n      begin: 1,\n      end: '',\n      totalPage: [],\n      pageData: [],\n      activePage: 1,\n      mob_status: false\n    };\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.triggerButton = _this.triggerButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createPagination = _this.createPagination.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CaseRecord, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var area = sessionStorage.getItem('area');\n      var url = \"\".concat(config.url, \"/genList/\") + area;\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this2.setState({\n          data: data[0],\n          data2: data[1],\n          wait: false\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(id) {\n      var _this3 = this;\n\n      this.setState({\n        wait: true\n      });\n      var url = \"\".concat(config.url, \"/view/\") + encodeURIComponent(id);\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return _this3.setState({\n          id: id,\n          view: true,\n          currentSec: 1,\n          cData: data.cData,\n          pData: data.pData,\n          nData: data.nData,\n          pcData: data.cpData,\n          rData: data.rData,\n          mData: data.mData,\n          mob_status: data.mStatus,\n          mob_ProSta: '',\n          open: true,\n          wait: false\n        });\n      });\n    }\n  }, {\n    key: \"numberRow\",\n    value: function numberRow(activePage) {\n      var _this4 = this;\n\n      var pageSize = this.state.pageSize;\n      var lower = activePage * pageSize - pageSize;\n      var upper = activePage * pageSize;\n      var pageData = this.state.data2.slice(lower, upper);\n      return pageData.map(function (el, i) {\n        return React.createElement(Table.Row, {\n          key: pageData[i].case_no,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, activePage * pageSize - 10 + i + 1), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, pageData[i].case_no), React.createElement(Table.Cell, {\n          compact: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: pageData[i].status == null ? 'times' : 'check',\n          color: pageData[i].status == null ? 'red' : 'green',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        })), React.createElement(Table.Cell, {\n          compact: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: pageData[i].status == 2 ? 'times' : 'check',\n          color: pageData[i].status == 2 ? 'red' : 'green',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          open: _this4.state.open,\n          size: \"large\",\n          trigger: React.createElement(Button, {\n            circular: true,\n            icon: \"search\",\n            color: \"blue\",\n            size: 'small',\n            onClick: _this4.handleSearch.bind(_this4, pageData[i].case_no),\n            content: 'view',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(Modal.Content, {\n          scrolling: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, _this4.createFormView()), React.createElement(Modal.Actions, {\n          style: {\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: \"red\",\n          inverted: true,\n          onClick: function onClick() {\n            return _this4.setState({\n              open: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"remove\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }), \" Close\"), _this4.addMobButton(), _this4.editMobButton(), React.createElement(Button, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"View\")))));\n      });\n    }\n  }, {\n    key: \"addMobButton\",\n    value: function addMobButton() {\n      var _this5 = this;\n\n      if (this.state.mob_status == false) {\n        var c = this.state.cData;\n        var p = this.state.pData;\n        var n = this.state.nData; //console.log(c.case_no)\n\n        var _data = {\n          caseID: c.case_no,\n          onset: moment(n.onset_date).format('YYYY-MM-DD'),\n          address: p.curr_add,\n          other_add: p.oth_add,\n          area: c.case_area\n        };\n        return React.createElement(Button, {\n          color: \"orange\",\n          inverted: true,\n          onClick: function onClick() {\n            return _this5.props.history.push('/addMob', {\n              data: _data\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"add\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }), \" Add Mobility\");\n      }\n    }\n  }, {\n    key: \"editMobButton\",\n    value: function editMobButton() {\n      var _this6 = this;\n\n      if (this.state.mob_status == true && this.state.mData.status != 2) {\n        var c = this.state.cData;\n        var p = this.state.pData;\n        var n = this.state.nData;\n        var m = this.state.mData;\n        var pat_mob = JSON.parse(m.pat_mob); //console.log(c.case_no)\n\n        var _data2 = {\n          caseID: c.case_no,\n          onset: moment(n.onset_date).format('YYYY-MM-DD'),\n          address: p.curr_add,\n          other_add: p.oth_add,\n          area: c.case_area,\n          mob: pat_mob,\n          status: this.state.mData.status\n        };\n        return React.createElement(Button, {\n          color: \"blue\",\n          inverted: true,\n          onClick: function onClick() {\n            return _this6.props.history.push('/editMob', {\n              data: _data2\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }), \" Edit Mobility\");\n      }\n    }\n  }, {\n    key: \"interactiveMap\",\n    value: function interactiveMap() {\n      var _this7 = this;\n\n      if (this.state.mob_status == true && this.state.mData.status != 2) {\n        var case_id = this.state.cData.case_no;\n        return React.createElement(Button, {\n          color: \"blue\",\n          inverted: true,\n          onClick: function onClick() {\n            return _this7.props.history.push('/editMob', {\n              data: data\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }), \" Interactive Map\");\n      }\n    }\n  }, {\n    key: \"createPagination\",\n    value: function createPagination() {\n      var total = this.state.data.length;\n      var page = Math.ceil(total / this.state.pageSize);\n      var pageList = [];\n\n      for (var i = 0; i < page; i++) {\n        pageList.push(i);\n      }\n\n      return React.createElement(Pagination, {\n        activePage: this.state.activePage,\n        ellipsisItem: {\n          content: React.createElement(Icon, {\n            name: \"ellipsis horizontal\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        firstItem: {\n          content: React.createElement(Icon, {\n            name: \"angle double left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        lastItem: {\n          content: React.createElement(Icon, {\n            name: \"angle double right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        prevItem: {\n          content: React.createElement(Icon, {\n            name: \"angle left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        nextItem: {\n          content: React.createElement(Icon, {\n            name: \"angle right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        siblingRange: 1,\n        pointing: true,\n        secondary: true,\n        boundaryRange: 1,\n        onPageChange: this.handlePaginationChange,\n        totalPages: page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"triggerButton\",\n    value: function triggerButton(id) {\n      return React.createElement(Button, {\n        circular: true,\n        icon: \"search\",\n        color: \"blue\",\n        size: 'small',\n        onClick: this.handleSearch.bind(id),\n        content: 'view',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"createFormView\",\n    value: function createFormView() {\n      var c = this.state.cData;\n      var p = this.state.pData;\n      var n = this.state.nData;\n      var pc = this.state.pcData;\n      var r = this.state.rData; //let m = this.state.mData\n\n      if (this.state.mob_status == true) {\n        var m = this.state.mData;\n        var pat_mob = JSON.parse(m.pat_mob); //console.log(pat_mob.d1)\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, React.createElement(CaseFormReview, {\n          dataC: c,\n          dataP: p,\n          dataN: n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        })), React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(CaseFormReview2, {\n          dataC: c,\n          dataP: p,\n          dataN: n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        })), React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(CaseFormReview3, {\n          dataPC: pc,\n          dataR: r,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        })), React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(MobilityFormReview, {\n          dataM: m,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        })));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }, React.createElement(CaseFormReview, {\n          dataC: c,\n          dataP: p,\n          dataN: n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        })), React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        }, React.createElement(CaseFormReview2, {\n          dataC: c,\n          dataP: p,\n          dataN: n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        })), React.createElement(Segment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(CaseFormReview3, {\n          dataPC: pc,\n          dataR: r,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        })));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(MenuBar, {\n        activeItem: \"record\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Historical Record\"), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        active: this.state.wait,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        active: this.state.wait,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Preparing Data\")), React.createElement(Table, {\n        celled: true,\n        size: \"medium\",\n        stackable: true,\n        collapsing: true,\n        compact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"No.\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Case ID\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Mobility\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Editable\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Report\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, this.numberRow(this.state.activePage)), React.createElement(Table.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        colSpan: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, this.createPagination())))))));\n    }\n  }]);\n\n  return CaseRecord;\n}(React.Component);\n\nexport default CaseRecord;","map":{"version":3,"sources":["D:\\MOZZHUB-ReactJS\\src\\component\\CaseRecord.js"],"names":["React","MenuBar","CaseFormReview","CaseFormReview2","CaseFormReview3","MobilityFormReview","moment","push","config","Button","Grid","Divider","Segment","Icon","Table","Pagination","Modal","Dimmer","Loader","CaseRecord","props","handlePaginationChange","e","activePage","setState","state","open","pageSize","wait","data","data2","id","view","cData","pData","nData","pcData","rData","begin","end","totalPage","pageData","mob_status","handleSearch","bind","triggerButton","createPagination","area","sessionStorage","getItem","url","fetch","then","res","json","catch","err","console","log","encodeURIComponent","currentSec","cpData","mData","mStatus","mob_ProSta","lower","upper","slice","map","el","i","case_no","status","createFormView","textAlign","addMobButton","editMobButton","c","p","n","caseID","onset","onset_date","format","address","curr_add","other_add","oth_add","case_area","history","m","pat_mob","JSON","parse","mob","case_id","total","length","page","Math","ceil","pageList","content","icon","pc","r","numberRow","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport MenuBar from './MenuBar'\r\nimport CaseFormReview from './reviewCom'\r\nimport CaseFormReview2 from './reviewCom2'\r\nimport CaseFormReview3 from './reviewCom3'\r\nimport MobilityFormReview from './MobilityFormReview'\r\nimport moment from 'moment'\r\nimport { push } from 'react-router-redux'\r\n\r\nimport config from '../config'\r\nimport {Button,Grid,Divider,Segment,Icon,Table,Pagination,Modal,Dimmer,Loader} from 'semantic-ui-react'\r\n\r\nclass CaseRecord extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            open:false,\r\n            pageSize:10,\r\n            wait:false,\r\n            data:[],\r\n            data2:[],\r\n            id:'',\r\n            view:false,\r\n            cData:{},\r\n            pData:{},\r\n            nData:{},\r\n            pcData:{},\r\n            rData:{},\r\n            begin:1,\r\n            end:'',\r\n            totalPage:[],\r\n            pageData:[],\r\n            activePage:1,\r\n            mob_status:false\r\n        };\r\n        this.handleSearch = this.handleSearch.bind(this)\r\n        this.triggerButton = this.triggerButton.bind(this)\r\n        this.createPagination = this.createPagination.bind(this)\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        const area = sessionStorage.getItem('area');\r\n        let url = `${config.url}/genList/`+area\r\n            fetch(url)\r\n            .then (res =>res.json())\r\n            .then (data => this.setState({\r\n                    data:data[0],\r\n                    data2:data[1],\r\n                    wait:false}))\r\n            .catch((err)=>console.log(err))\r\n            \r\n    }\r\n\r\n    handleSearch(id){\r\n        this.setState({wait:true})\r\n        let url = `${config.url}/view/`+encodeURIComponent(id)\r\n        fetch(url)\r\n            .then (res =>res.json())\r\n            .then (data =>this.setState({\r\n                id:id,\r\n                view:true,\r\n                currentSec:1,\r\n                cData:data.cData,\r\n                pData:data.pData,\r\n                nData:data.nData,\r\n                pcData:data.cpData,\r\n                rData:data.rData,\r\n                mData:data.mData,\r\n                mob_status:data.mStatus,\r\n                mob_ProSta:'',\r\n                open:true,\r\n                wait:false\r\n            })\r\n        )\r\n    }\r\n\r\n    numberRow(activePage){\r\n        let pageSize = this.state.pageSize\r\n        let lower = (activePage*pageSize)-pageSize\r\n        let upper = (activePage*pageSize)\r\n        let pageData = (this.state.data2).slice(lower,upper)\r\n        return pageData.map((el,i)=>\r\n               <Table.Row key={pageData[i].case_no}>\r\n                <Table.Cell>{(activePage*pageSize)-10+i+1}</Table.Cell>\r\n                <Table.Cell>{pageData[i].case_no}</Table.Cell>\r\n                <Table.Cell compact><Icon name={pageData[i].status==null?'times':'check'} color={pageData[i].status==null?'red':'green'}/></Table.Cell>\r\n                <Table.Cell compact><Icon name={pageData[i].status==2?'times':'check'} color={pageData[i].status==2?'red':'green'}/></Table.Cell>\r\n                <Table.Cell>\r\n                    <Modal\r\n                        open={this.state.open}\r\n                        size='large'\r\n                        trigger={<Button circular icon='search' color='blue' size={'small'} onClick={this.handleSearch.bind(this,pageData[i].case_no)} content={'view'}/>}>\r\n                        <Modal.Content scrolling>\r\n                            {this.createFormView()}\r\n                        </Modal.Content>\r\n                        <Modal.Actions style={{textAlign:'center'}}>\r\n                            <Button color='red' inverted onClick={() => this.setState({open:false})}>\r\n                                <Icon name='remove'/> Close\r\n                            </Button>\r\n                            {this.addMobButton()}\r\n                            {this.editMobButton()}\r\n                            <Button>View</Button>\r\n                        </Modal.Actions>\r\n                    </Modal>\r\n                </Table.Cell>\r\n            </Table.Row>\r\n        )\r\n    }\r\n\r\n    addMobButton(){\r\n        if(this.state.mob_status==false){\r\n            let c = this.state.cData\r\n            let p = this.state.pData\r\n            let n = this.state.nData\r\n            //console.log(c.case_no)\r\n            let data = {\r\n                caseID:c.case_no,\r\n                onset:moment(n.onset_date).format('YYYY-MM-DD'),\r\n                address:p.curr_add,\r\n                other_add:p.oth_add,\r\n                area:c.case_area\r\n            }\r\n            return(\r\n                <Button color='orange' inverted onClick={() =>  this.props.history.push('/addMob',{data:data})}>\r\n                    <Icon name='add'/> Add Mobility\r\n                </Button>\r\n            )\r\n        }\r\n    }\r\n\r\n    editMobButton(){\r\n        if(this.state.mob_status==true && this.state.mData.status!=2){\r\n            let c = this.state.cData\r\n            let p = this.state.pData\r\n            let n = this.state.nData\r\n            let m = this.state.mData\r\n            let pat_mob = JSON.parse(m.pat_mob)\r\n            //console.log(c.case_no)\r\n            let data = {\r\n                caseID:c.case_no,\r\n                onset:moment(n.onset_date).format('YYYY-MM-DD'),\r\n                address:p.curr_add,\r\n                other_add:p.oth_add,\r\n                area:c.case_area,\r\n                mob:pat_mob,\r\n                status: this.state.mData.status\r\n            }\r\n            return(\r\n                <Button color='blue' inverted onClick={() =>  this.props.history.push('/editMob',{data:data})}>\r\n                    <Icon name='edit'/> Edit Mobility\r\n                </Button>\r\n            )\r\n        }\r\n    }\r\n\r\n    interactiveMap(){\r\n        if(this.state.mob_status==true && this.state.mData.status!=2){\r\n            let case_id = this.state.cData.case_no\r\n\r\n            return(\r\n                <Button color='blue' inverted onClick={() =>  this.props.history.push('/editMob',{data:data})}>\r\n                    <Icon/> Interactive Map\r\n                </Button>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    handlePaginationChange = (e, { activePage }) => {\r\n        this.setState({activePage})\r\n    }\r\n\r\n    createPagination(){\r\n        let total = (this.state.data).length\r\n        let page = Math.ceil(total/this.state.pageSize)\r\n        var pageList =[]\r\n        for (var i = 0; i<page;i++){\r\n            pageList.push(i)\r\n        }\r\n        return (\r\n            <Pagination \r\n                activePage={this.state.activePage}\r\n                ellipsisItem={{ content: <Icon name='ellipsis horizontal' />, icon: true }}\r\n                firstItem={{ content: <Icon name='angle double left' />, icon: true }}\r\n                lastItem={{ content: <Icon name='angle double right' />, icon: true }}\r\n                prevItem={{ content: <Icon name='angle left' />, icon: true }}\r\n                nextItem={{ content: <Icon name='angle right' />, icon: true }} \r\n                siblingRange={1}\r\n                pointing\r\n                secondary\r\n                boundaryRange={1}\r\n                onPageChange={this.handlePaginationChange}\r\n                totalPages={page}\r\n            />\r\n        )\r\n    }\r\n\r\n    triggerButton(id){\r\n        return(\r\n            <Button circular icon='search' color='blue' size={'small'} onClick={this.handleSearch.bind(id)} content={'view'}/>\r\n        )\r\n    }\r\n    \r\n    createFormView(){\r\n        let c = this.state.cData\r\n        let p = this.state.pData\r\n        let n = this.state.nData\r\n        let pc = this.state.pcData\r\n        let r = this.state.rData\r\n        //let m = this.state.mData\r\n        if(this.state.mob_status==true){\r\n            let m = this.state.mData\r\n            let pat_mob = JSON.parse(m.pat_mob)\r\n            //console.log(pat_mob.d1)\r\n            return(\r\n                <div>\r\n                    <Segment>\r\n                        <CaseFormReview dataC={c} dataP={p} dataN={n}/>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <CaseFormReview2 dataC={c} dataP={p} dataN={n}/>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <CaseFormReview3 dataPC={pc} dataR = {r}/>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <MobilityFormReview dataM={m}/>\r\n                    </Segment>\r\n                </div>\r\n            ) \r\n        }\r\n        else{\r\n            return(\r\n                <div>\r\n                    <Segment>\r\n                        <CaseFormReview dataC={c} dataP={p} dataN={n}/>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <CaseFormReview2 dataC={c} dataP={p} dataN={n}/>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <CaseFormReview3 dataPC={pc} dataR = {r}/>\r\n                    </Segment>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <MenuBar activeItem='record'/>\r\n                <Divider hidden/>\r\n                <Grid centered>\r\n                <h3>Historical Record</h3>\r\n                <Grid.Row>\r\n                <Dimmer active={this.state.wait}>\r\n                    <Loader active={this.state.wait}>Preparing Data</Loader>\r\n                </Dimmer>\r\n                        <Table celled size='medium' stackable collapsing compact>\r\n                            <Table.Header>\r\n                                <Table.Row>\r\n                                <Table.HeaderCell>No.</Table.HeaderCell>\r\n                                <Table.HeaderCell>Case ID</Table.HeaderCell>\r\n                                <Table.HeaderCell>Mobility</Table.HeaderCell>\r\n                                <Table.HeaderCell>Editable</Table.HeaderCell>\r\n                                <Table.HeaderCell>Report</Table.HeaderCell>\r\n                                </Table.Row>\r\n                            </Table.Header>\r\n                            <Table.Body>{this.numberRow(this.state.activePage)}</Table.Body>\r\n                            <Table.Footer>\r\n                                <Table.Row>\r\n                                    <Table.HeaderCell colSpan='5'>\r\n                                     {this.createPagination()}\r\n                                    </Table.HeaderCell>\r\n                                </Table.Row>\r\n                            </Table.Footer>\r\n                        </Table>\r\n                        </Grid.Row>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nexport default CaseRecord"]},"metadata":{},"sourceType":"module"}