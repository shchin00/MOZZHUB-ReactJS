{"ast":null,"code":"import _defineProperty from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\MOZZHUB-ReactJS\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\MOZZHUB-ReactJS\\\\src\\\\component\\\\EditMobilityForm.js\";\nimport React from 'react';\nimport { Button, Grid, Divider, Segment, Form, Input, Message, Progress, Modal, Radio, Header, Icon, Dropdown } from 'semantic-ui-react';\nimport moment from 'moment';\nimport config from '../config';\nimport MenuBar from './MenuBar';\n\nfunction dateConvert(x, i) {\n  var d = i - 1;\n  var date = moment(x).subtract(14 - d, 'days').format('YYYY-MM-DD'); //console.log(date)\n\n  return date;\n}\n\nvar EditMobilityForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditMobilityForm, _React$Component);\n\n  function EditMobilityForm(props) {\n    var _this;\n\n    _classCallCheck(this, EditMobilityForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditMobilityForm).call(this, props));\n    _this.state = {\n      open: false,\n      def: 1,\n      onset: _this.props.history.location.state.data.onset,\n      address: _this.props.history.location.state.data.address,\n      other_add: _this.props.history.location.state.data.other_add,\n      caseID: _this.props.history.location.state.data.caseID,\n      area: _this.props.history.location.state.data.area\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addClick = _this.addClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNext = _this.handleNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.removeClick = _this.removeClick.bind(_assertThisInitialized(_assertThisInitialized(_this))); //this.handleClick1 = this.handleClick1.bind(this);\n\n    return _this;\n  }\n\n  _createClass(EditMobilityForm, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(this.props.history.location.state.data.status);\n      this.setState({\n        d1: this.props.history.location.state.data.mob.d1,\n        d2: this.props.history.location.state.data.mob.d2,\n        d3: this.props.history.location.state.data.mob.d3,\n        d4: this.props.history.location.state.data.mob.d4,\n        d5: this.props.history.location.state.data.mob.d5,\n        d6: this.props.history.location.state.data.mob.d6,\n        d7: this.props.history.location.state.data.mob.d7,\n        d8: this.props.history.location.state.data.mob.d8,\n        d9: this.props.history.location.state.data.mob.d9,\n        d10: this.props.history.location.state.data.mob.d10,\n        d11: this.props.history.location.state.data.mob.d11,\n        d12: this.props.history.location.state.data.mob.d12,\n        d13: this.props.history.location.state.data.mob.d13,\n        d14: this.props.history.location.state.data.mob.d14\n      });\n    }\n  }, {\n    key: \"showMinus\",\n    value: function showMinus(i, dx) {\n      if (i >= 1) {\n        return React.createElement(Button, {\n          icon: \"minus\",\n          inverted: true,\n          color: \"red\",\n          onClick: this.removeClick.bind(this, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(Button, {\n          icon: \"minus\",\n          disabled: true,\n          onClick: this.removeClick.bind(this, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(i, dx, e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var d = _toConsumableArray(this.state[dx]);\n\n      d[i] = _objectSpread({}, d[i], _defineProperty({}, name, value)); //console.log(d)\n\n      this.setState(_defineProperty({}, dx, d));\n    }\n  }, {\n    key: \"handleDropdown\",\n    value: function handleDropdown(i, dx, e, _ref) {\n      var value = _ref.value,\n          name = _ref.name;\n\n      var d = _toConsumableArray(this.state[dx]);\n\n      d[i] = _objectSpread({}, d[i], _defineProperty({}, name, value));\n      this.setState(_defineProperty({}, dx, d)); //console.log(d)\n    }\n  }, {\n    key: \"addClick\",\n    value: function addClick(i, dx) {\n      this.setState(function (prevState) {\n        return _defineProperty({}, dx, _toConsumableArray(prevState[dx]).concat([{\n          startTime: '',\n          endTime: '',\n          location: '',\n          type: 1\n        }]));\n      });\n    }\n  }, {\n    key: \"handleNext\",\n    value: function handleNext() {\n      var _this2 = this;\n\n      var status = this.props.history.location.state.data.status;\n      var mobData = {\n        d1: this.state.d1,\n        d2: this.state.d2,\n        d3: this.state.d3,\n        d4: this.state.d4,\n        d5: this.state.d5,\n        d6: this.state.d6,\n        d7: this.state.d7,\n        d8: this.state.d8,\n        d9: this.state.d9,\n        d10: this.state.d10,\n        d11: this.state.d11,\n        d12: this.state.d12,\n        d13: this.state.d13,\n        d14: this.state.d14\n      };\n      var info = [this.state.caseID, this.state.onset, this.state.area, status];\n      var url1 = \"\".concat(config.url, \"/deletePrevData/\") + encodeURIComponent(this.state.caseID);\n      fetch(url1).then(function (response) {\n        if (response.status == 400) {\n          console.log(\"Error 400\");\n        } else if (response.status == 200) {\n          var url = \"\".concat(config.url, \"/mobData\");\n          fetch(url, {\n            method: \"POST\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              mobData: mobData,\n              info: info\n            })\n          }).then(function (response) {\n            if (response.status == 200) {\n              _this2.props.history.push('/record');\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"removeClick\",\n    value: function removeClick(i, dx) {\n      var d = _toConsumableArray(this.state[dx]);\n\n      d.splice(i, 1);\n      this.setState(_defineProperty({}, dx, d));\n    }\n  }, {\n    key: \"createForm\",\n    value: function createForm(x) {\n      var _this3 = this;\n\n      var dx = 'd' + x;\n      var onset = this.props.history.location.state.data.onset;\n      var address = this.props.history.location.state.data.address;\n      var other_add = this.props.history.location.state.data.other_add;\n      var status = this.props.history.location.state.data.status;\n      var optionsLocInput = [{\n        key: '1',\n        text: 'Address',\n        value: 1\n      }, {\n        key: '2',\n        text: 'LatLong',\n        value: 2\n      }];\n\n      if (x > 9) {\n        var day = 'DAY' + x + ' (' + dateConvert(onset, x) + ')';\n      } else {\n        var day = 'DAY ' + x + ' (' + dateConvert(onset, x) + ')';\n      }\n\n      return this.state[dx].map(function (el, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          inline: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(Form.Field, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, day)), React.createElement(Input, {\n          label: \"Start Time\",\n          placeholder: \"HHMM Example 1430\",\n          name: \"startTime\",\n          value: el.startTime || '',\n          onChange: _this3.handleChange.bind(_this3, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        })), React.createElement(Form.Field, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"End Time\",\n          placeholder: \"HHMM Example 1500\",\n          name: \"endTime\",\n          value: el.endTime || '',\n          onChange: _this3.handleChange.bind(_this3, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        })), React.createElement(Form.Field, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(Input, {\n          list: \"Address\",\n          readOnly: status == 1 ? true : false,\n          name: \"location\",\n          placeholder: \"Location\",\n          label: React.createElement(Dropdown, {\n            disabled: status == 1 ? true : false,\n            compact: true,\n            name: \"type\",\n            defaultValue: el.type || 1,\n            options: optionsLocInput,\n            onChange: _this3.handleDropdown.bind(_this3, i, dx),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }),\n          value: el.location || '',\n          onChange: _this3.handleChange.bind(_this3, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }), React.createElement(\"datalist\", {\n          id: \"Address\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: address,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"House\"), React.createElement(\"option\", {\n          value: other_add,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Other Address\")), React.createElement(Button, {\n          disabled: status == 1 ? true : false,\n          icon: \"plus\",\n          inverted: true,\n          color: \"green\",\n          onClick: _this3.addClick.bind(_this3, i, dx),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), _this3.showMinus(i, dx)))));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var caseID = this.props.history.location.state.data.caseID;\n      var onset = this.props.history.location.state.data.onset;\n      var address = this.props.history.location.state.data.address;\n      var other_add = this.props.history.location.state.data.other_add;\n      var status = this.props.history.location.state.data.status;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(MenuBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(Message, {\n        warning: true,\n        hidden: status == 0 ? true : false,\n        header: \"Location are Not Editable\",\n        list: ['You are allowed to edit the Start Time and End Time for each location', 'Adding new location is not allowed '],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })), React.createElement(Header, {\n        as: \"h2\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Patient Movement Record\"), React.createElement(Divider, {\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        stackable: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Form, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        label: \"Case ID: \",\n        readOnly: true,\n        value: caseID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        label: \"Onset Date: \",\n        readOnly: true,\n        value: onset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        label: \"House Address: \",\n        readOnly: true,\n        value: address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        label: \"Other Address: \",\n        readOnly: true,\n        value: other_add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })))), React.createElement(Grid, {\n        stackable: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, this.createForm(1), this.createForm(2), this.createForm(3), this.createForm(4), this.createForm(5), this.createForm(6), this.createForm(7), this.createForm(8), this.createForm(9), this.createForm(10), this.createForm(11), this.createForm(12), this.createForm(13), this.createForm(14)), React.createElement(Grid, {\n        stackable: true,\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        basic: true,\n        open: this.state.open,\n        size: \"small\" //trigger={<Button onClick={()=>this.setState({open:true})}>Basic Modal</Button>}\n        ,\n        trigger: React.createElement(Button, {\n          primary: true,\n          content: \"Save\",\n          onClick: function onClick() {\n            return _this4.setState({\n              open: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: true,\n        color: \"orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"exclamation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Non Editable After Save\")), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \" Please make sure all input are non empty\"))), React.createElement(Modal.Actions, {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"red\",\n        inverted: true,\n        onClick: function onClick() {\n          return _this4.setState({\n            open: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), \" Go Back\"), React.createElement(Button, {\n        color: \"green\",\n        inverted: true,\n        onClick: this.handleNext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }), \" Cofirm and Save\")))));\n    }\n  }]);\n\n  return EditMobilityForm;\n}(React.Component);\n\nexport default EditMobilityForm;","map":{"version":3,"sources":["D:\\MOZZHUB-ReactJS\\src\\component\\EditMobilityForm.js"],"names":["React","Button","Grid","Divider","Segment","Form","Input","Message","Progress","Modal","Radio","Header","Icon","Dropdown","moment","config","MenuBar","dateConvert","x","i","d","date","subtract","format","EditMobilityForm","props","state","open","def","onset","history","location","data","address","other_add","caseID","area","handleChange","bind","addClick","handleNext","removeClick","console","log","status","setState","d1","mob","d2","d3","d4","d5","d6","d7","d8","d9","d10","d11","d12","d13","d14","dx","e","target","name","value","prevState","startTime","endTime","type","mobData","info","url1","url","encodeURIComponent","fetch","then","response","method","headers","body","JSON","stringify","push","splice","optionsLocInput","key","text","day","map","el","handleDropdown","showMinus","createForm","textAlign","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Button,Grid,Divider,Segment,Form,Input,Message, Progress, Modal,Radio,Header,Icon, Dropdown} from 'semantic-ui-react'\r\nimport moment from 'moment'\r\nimport config from '../config'\r\nimport MenuBar from './MenuBar'\r\n\r\nfunction dateConvert(x,i) {\r\n    let d = i-1\r\n    let date = moment(x).subtract((14-d),'days').format('YYYY-MM-DD')\r\n    //console.log(date)\r\n    return date\r\n}\r\nclass EditMobilityForm extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            open:false,\r\n            def:1,\r\n            onset:this.props.history.location.state.data.onset,\r\n            address:this.props.history.location.state.data.address,\r\n            other_add:this.props.history.location.state.data.other_add,\r\n            caseID:this.props.history.location.state.data.caseID,\r\n            area:this.props.history.location.state.data.area,\r\n            }\r\n            this.handleChange = this.handleChange.bind(this);\r\n            this.addClick = this.addClick.bind(this);\r\n            this.handleNext = this.handleNext.bind(this);\r\n            this.removeClick = this.removeClick.bind(this);\r\n            //this.handleClick1 = this.handleClick1.bind(this);\r\n            }\r\n\r\n    componentWillMount() {\r\n        console.log(this.props.history.location.state.data.status)\r\n        this.setState({\r\n            d1:this.props.history.location.state.data.mob.d1,\r\n            d2:this.props.history.location.state.data.mob.d2,\r\n            d3:this.props.history.location.state.data.mob.d3,\r\n            d4:this.props.history.location.state.data.mob.d4,\r\n            d5:this.props.history.location.state.data.mob.d5,\r\n            d6:this.props.history.location.state.data.mob.d6,\r\n            d7:this.props.history.location.state.data.mob.d7,\r\n            d8:this.props.history.location.state.data.mob.d8,\r\n            d9:this.props.history.location.state.data.mob.d9,\r\n            d10:this.props.history.location.state.data.mob.d10,\r\n            d11:this.props.history.location.state.data.mob.d11,\r\n            d12:this.props.history.location.state.data.mob.d12,\r\n            d13:this.props.history.location.state.data.mob.d13,\r\n            d14:this.props.history.location.state.data.mob.d14\r\n        });\r\n    }\r\n    \r\n    showMinus(i,dx){\r\n        if(i>=1){\r\n            return(<Button icon='minus' inverted color='red' onClick={this.removeClick.bind(this,i,dx)}/>)\r\n        }\r\n        else{ \r\n            return(<Button icon='minus' disabled onClick={this.removeClick.bind(this,i,dx)}/>)\r\n        }\r\n    }\r\n\r\n    handleChange(i,dx, e) {\r\n        const { name, value } = e.target;\r\n        let d = [...this.state[dx]]\r\n        d[i] = {...d[i], [name]: value};\r\n        //console.log(d)\r\n        this.setState({ [dx]:d });\r\n    }\r\n\r\n    handleDropdown(i,dx,e,{value,name}){\r\n    let d = [...this.state[dx]]\r\n    d[i] = {...d[i], [name]: value};\r\n    this.setState({ [dx]:d });\r\n    //console.log(d)\r\n}\r\n\r\n    addClick(i,dx){\r\n        this.setState(prevState => ({\r\n            [dx]:[...prevState[dx], { startTime:'', endTime:'',location:'',type:1}]\r\n        }))\r\n    }\r\n    \r\n    handleNext(){\r\n        let status = this.props.history.location.state.data.status\r\n        let mobData = {d1:this.state.d1,d2:this.state.d2,d3:this.state.d3,\r\n            d4:this.state.d4,d5:this.state.d5,d6:this.state.d6,\r\n            d7:this.state.d7,d8:this.state.d8,d9:this.state.d9,\r\n            d10:this.state.d10,d11:this.state.d11,d12:this.state.d12,\r\n            d13:this.state.d13,d14:this.state.d14,}\r\n        let info = [this.state.caseID,this.state.onset,this.state.area,status]\r\n        let url1 = `${config.url}/deletePrevData/`+encodeURIComponent(this.state.caseID)\r\n        fetch(url1)\r\n            .then((response) =>{\r\n                if(response.status==400){\r\n                    console.log(\"Error 400\")\r\n                }\r\n                else if(response.status==200){\r\n                    let url = `${config.url}/mobData`\r\n                    fetch(url,{\r\n                        method:\"POST\",\r\n                        headers: {\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({mobData,info})\r\n                    })\r\n                    .then((response)=>{\r\n                        if(response.status==200){\r\n                            this.props.history.push('/record');\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    removeClick(i,dx){\r\n        let d = [...this.state[dx]];\r\n        d.splice(i,1);\r\n        this.setState({ [dx]:d });\r\n    }\r\n\r\n    createForm(x){\r\n        var dx = 'd'+x\r\n        const onset = this.props.history.location.state.data.onset\r\n        const address = this.props.history.location.state.data.address\r\n        const other_add = this.props.history.location.state.data.other_add\r\n        const status = this.props.history.location.state.data.status\r\n        const optionsLocInput = [\r\n            { key: '1', text: 'Address', value: 1 },\r\n            { key: '2', text: 'LatLong', value: 2 },\r\n          ]\r\n        if(x>9){\r\n            var day = 'DAY'+x+' ('+dateConvert(onset,x)+')'\r\n        }else{  \r\n            var day = 'DAY '+x+' ('+dateConvert(onset,x)+')'}\r\n        return this.state[dx].map((el,i)=>\r\n            <div key={i}>\r\n                <Form>\r\n                    <Form.Group inline>\r\n                        <Form.Field>\r\n                        <label><h4>{day}</h4></label>\r\n                            <Input label='Start Time' placeholder='HHMM Example 1430' name='startTime' value={el.startTime ||''} onChange={this.handleChange.bind(this,i,dx)}/>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <Input label='End Time' placeholder='HHMM Example 1500'  name='endTime' value={el.endTime ||''} onChange={this.handleChange.bind(this,i,dx)}/>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <Input \r\n                                list=\"Address\"\r\n                                readOnly = {status==1?true:false}\r\n                                name='location' \r\n                                placeholder='Location'\r\n                                label={<Dropdown disabled = {status==1?true:false} compact name='type' defaultValue={el.type ||1} options={optionsLocInput} onChange={this.handleDropdown.bind(this,i,dx)} />}\r\n                                value={el.location ||''} \r\n                                onChange={this.handleChange.bind(this,i,dx)}\r\n                            />\r\n                            <datalist id='Address'>\r\n                            <option value={address}>House</option>\r\n                            <option value={other_add}>Other Address</option>   \r\n                            </datalist>\r\n                            <Button disabled={status==1?true:false} icon='plus' inverted color='green' onClick={this.addClick.bind(this,i,dx)}/>\r\n                            {this.showMinus(i,dx)}\r\n                        </Form.Field>\r\n                    </Form.Group>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    render(){\r\n        const caseID = this.props.history.location.state.data.caseID\r\n        const onset = this.props.history.location.state.data.onset\r\n        const address = this.props.history.location.state.data.address\r\n        const other_add = this.props.history.location.state.data.other_add\r\n        const status = this.props.history.location.state.data.status\r\n        return(\r\n            <div>\r\n                <MenuBar/>\r\n                <Grid textAlign='center'>\r\n                    <Divider hidden/>\r\n                    <Message \r\n                        warning \r\n                        hidden = {status==0?true:false}\r\n                        header = 'Location are Not Editable'\r\n                        list = {[\r\n                            'You are allowed to edit the Start Time and End Time for each location',\r\n                            'Adding new location is not allowed '\r\n                        ]}\r\n                        />\r\n                </Grid>\r\n                <Header as='h2'textAlign='center'>Patient Movement Record</Header>\r\n                <Divider hidden/>\r\n                <Grid stackable textAlign='center'>\r\n                <Form widths='equal'>\r\n                    <Form.Group>\r\n                        <Form.Input label='Case ID: ' readOnly value={caseID}/>\r\n                        <Form.Input label='Onset Date: ' readOnly value={onset}/>\r\n                        <Form.Input label='House Address: ' readOnly value={address}/>\r\n                        <Form.Input label='Other Address: ' readOnly value={other_add}/>\r\n                    </Form.Group>\r\n                    {/* <Button.Group inverted color='blue' fluid>\r\n                        <Button active={this.state.def==1?true:false} name={'def'} value={1}  content='Address' onClick={this.handleClick1}/>\r\n                        <Button active={this.state.def==2?true:false}  name={'def'} value={2} content='LatLng'  onClick={this.handleClick1}/>\r\n                    </Button.Group> */}\r\n                </Form> \r\n                </Grid>\r\n                <Grid stackable textAlign='center'>\r\n                {}\r\n                {this.createForm(1)}{this.createForm(2)}{this.createForm(3)}{this.createForm(4)}\r\n                {this.createForm(5)}{this.createForm(6)}{this.createForm(7)}{this.createForm(8)}{this.createForm(9)}\r\n                {this.createForm(10)}{this.createForm(11)}{this.createForm(12)}{this.createForm(13)}{this.createForm(14)}\r\n                </Grid>\r\n                \r\n                <Grid stackable textAlign='center'>\r\n                <Modal\r\n                    basic\r\n                    open={this.state.open}\r\n                    size='small'\r\n                    //trigger={<Button onClick={()=>this.setState({open:true})}>Basic Modal</Button>}\r\n                    trigger={<Button primary content='Save' onClick={()=>this.setState({open:true})}></Button>}\r\n                    >\r\n                    <Header icon color='orange'>\r\n                        <Icon name='exclamation'/>\r\n                        <h1>Non Editable After Save</h1>\r\n                    </Header>\r\n                    <Modal.Content>\r\n                        <div style={{textAlign:'center'}}>\r\n                            <p> Please make sure all input are non empty</p>\r\n                        </div>\r\n                    </Modal.Content>\r\n                    <Modal.Actions style={{textAlign:'center'}}>\r\n                        <Button color='red' inverted onClick={() => this.setState({open:false})}>\r\n                        <Icon name='remove'/> Go Back\r\n                        </Button>\r\n                        <Button color='green' inverted onClick={this.handleNext}>\r\n                        <Icon name='checkmark'/> Cofirm and Save\r\n                        </Button>\r\n                    </Modal.Actions>\r\n                    </Modal>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default EditMobilityForm"]},"metadata":{},"sourceType":"module"}